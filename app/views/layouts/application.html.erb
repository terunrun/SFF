<!DOCTYPE html>
<html>
  <head>
    <title>Sff <%= yield(:title) %></title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>

    <!-- Swiperを使用-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.0.7/css/swiper.min.css" />
  </head>
  <body>
    <header>
      <nav class="navbar navbar-default navbar-fixed-top navbar-transparent">
        <div class="container">
          <%= link_to root_path do %>
            SFF Online Shop
          <% end %>
          <% if user_signed_in? %>
            <p><%= t('view.welcome', name: current_user.name) %><p>
            <ul class="nav navbar-nav navbar-right">
              <li><%= link_to '商品一覧', products_path %></li>
              <li><%= link_to '商品登録', new_product_path %></li>
              <li><%= link_to 'ユーザー一覧', users_path %></li>
              <li><%= link_to 'プロフィール', user_path(current_user.id) %></li>
              <li><%= link_to 'ログアウト', destroy_user_session_path, method: :delete %>
          <% else %>
            <ul class="nav navbar-nav navbar-right">
              <li><%= link_to '新規登録', new_user_registration_path %></li>
              <li><%= link_to 'ログイン', new_user_session_path %></li>
            </ul>
          <% end %>
        </div>
        <% if !notice.blank? %>
          <p id="flash" class="notice"><%= notice %></p>
        <% elsif !alert.blank? %>
          <p id="flash" class="alert"><%= alert %></p>
        <% end %>
      </nav>
    </header>

    <%= yield %>

    <footer>
      <div class="container">
        <ul>
          <li><%= link_to '会社概要' %></li>
          <li><a href="mailto:terunrun@gmail.com" target="_blank">コンタクト</a></li>
          <li><a href="#top">一番上へ戻る</a></li>
        </ul>
        <p>&copy; SFF</p>
      </div>
    </footer>

    <!-- Swiperを使用-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.0.7/js/swiper.min.js"></script>
    <script>
      $(function(){
        $("#flash").fadeOut(5000);
      });

      window.addEventListener('DOMContentLoaded', function() {
        var mySwiper = new Swiper ('.static-pages-wrapper .swiper-container', {
          // オプションパラメータ(一部のみ抜粋)
          loop: true, // 最後のスライドまで到達した場合、最初に戻らずに続けてスライド可能にするか。
          speed: 1000, // スライドが切り替わるトランジション時間(ミリ秒)。
          slidesPerView: 1, // 何枚のスライドを表示するか
          spaceBetween: 0, // スライド間の余白サイズ(ピクセル)
          direction: 'vertical', // スライド方向。 'horizontal'(水平) か 'vertical'(垂直)。effectオプションが 'slide' 以外は無効。
          effect: 'slide', // "slide", "fade"(フェード), "cube"(キューブ回転), "coverflow"(カバーフロー) または "flip"(平面回転)

          // スライダーの自動再生
          // autoplay: true 　のみなら既定値での自動再生
          autoplay: {
            delay: 3000, // スライドが切り替わるまでの表示時間(ミリ秒)
            stopOnLast: false, // 最後のスライドまで表示されたら自動再生を中止するか
            disableOnInteraction: true // ユーザーのスワイプ操作を検出したら自動再生を中止するか
          },

          // レスポンシブ化条件
          breakpoints: {
            // 980ピクセル幅以下になったら
            980: {
              slidesPerView: 1,
              spaceBetween: 0
            },
            // 640ピクセル幅以下になったら
            640: {
              slidesPerView: 1,
              spaceBetween: 0
            }
          },

          // ページネーションを表示する場合
          pagination: {
            el: '.swiper-pagination',　 // ページネーションを表示するセレクタ
            clickable: true
          },

          // 前後スライドへのナビゲーションを表示する場合
          // navigation: {
          //   nextEl: '.swiper-button-next', // 次のスライドボタンのセレクタ
          //   prevEl: '.swiper-button-prev', // 前のスライドボタンのセレクタ
          // },

          // スクロールバーを表示する場合
          // scrollbar: {
          //   el: '.swiper-scrollbar', // スクロールバーを表示するセレクタ
          // }
        });
      }, false);
    </script>
  </body>
</html>
